import { Directive, ElementRef, Inject, forwardRef, Host, HostListener, Attribute, Input, Output, ContentChild, Component, NgZone, NgModule } from '@angular/core';
import { Observable, BehaviorSubject, of, Subject } from 'rxjs';
import { skip, first, filter, takeUntil } from 'rxjs/operators';
import { DOCUMENT, CommonModule } from '@angular/common';
import { NgWormholeModule } from 'ng-wormhole';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';
import * as ɵngcc2 from 'ng-wormhole';

function AngularDropdownContentComponent_ng_container_0_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "div", 5);
} }
function AngularDropdownContentComponent_ng_container_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, AngularDropdownContentComponent_ng_container_0_ng_container_1_div_1_Template, 1, 0, "div", 3);
    ɵngcc0.ɵɵelementStart(2, "div", 4);
    ɵngcc0.ɵɵpipe(3, "async");
    ɵngcc0.ɵɵpipe(4, "async");
    ɵngcc0.ɵɵpipe(5, "async");
    ɵngcc0.ɵɵpipe(6, "async");
    ɵngcc0.ɵɵpipe(7, "async");
    ɵngcc0.ɵɵpipe(8, "async");
    ɵngcc0.ɵɵpipe(9, "async");
    ɵngcc0.ɵɵpipe(10, "async");
    ɵngcc0.ɵɵpipe(11, "async");
    ɵngcc0.ɵɵprojection(12);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const isOpen_r1 = ɵngcc0.ɵɵnextContext().ngIf;
    const ctx_r2 = ɵngcc0.ɵɵnextContext();
    let tmp_2_0;
    let tmp_3_0;
    let tmp_4_0;
    let tmp_5_0;
    let tmp_7_0;
    let tmp_8_0;
    let tmp_9_0;
    let tmp_10_0;
    let tmp_11_0;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.overlay && isOpen_r1);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("ng-dropdown-content ", ctx_r2.dropdownClass, "");
    ɵngcc0.ɵɵstyleProp("top", (tmp_2_0 = ɵngcc0.ɵɵpipeBind1(3, 25, ctx_r2.dropdown.position$)) == null ? null : tmp_2_0.top)("right", (tmp_3_0 = ɵngcc0.ɵɵpipeBind1(4, 27, ctx_r2.dropdown.position$)) == null ? null : tmp_3_0.right)("bottom", (tmp_4_0 = ɵngcc0.ɵɵpipeBind1(5, 29, ctx_r2.dropdown.position$)) == null ? null : tmp_4_0.bottom)("left", (tmp_5_0 = ɵngcc0.ɵɵpipeBind1(6, 31, ctx_r2.dropdown.position$)) == null ? null : tmp_5_0.left);
    ɵngcc0.ɵɵclassProp("render-in-place", ctx_r2.dropdown.renderInPlace)("ng-dropdown-content--above", ((tmp_7_0 = ɵngcc0.ɵɵpipeBind1(7, 33, ctx_r2.dropdown.position$)) == null ? null : tmp_7_0.vPosition) === "above")("ng-dropdown-content--below", ((tmp_8_0 = ɵngcc0.ɵɵpipeBind1(8, 35, ctx_r2.dropdown.position$)) == null ? null : tmp_8_0.vPosition) === "below")("ng-dropdown-content--right", ((tmp_9_0 = ɵngcc0.ɵɵpipeBind1(9, 37, ctx_r2.dropdown.position$)) == null ? null : tmp_9_0.hPosition) === "right")("ng-dropdown-content--center", ((tmp_10_0 = ɵngcc0.ɵɵpipeBind1(10, 39, ctx_r2.dropdown.position$)) == null ? null : tmp_10_0.hPosition) === "center")("ng-dropdown-content--left", ((tmp_11_0 = ɵngcc0.ɵɵpipeBind1(11, 41, ctx_r2.dropdown.position$)) == null ? null : tmp_11_0.hPosition) === "left");
    ɵngcc0.ɵɵproperty("id", ctx_r2.dropdown.dropdownId);
} }
function AngularDropdownContentComponent_ng_container_0_div_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "div", 6);
} if (rf & 2) {
    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("id", ctx_r3.dropdown.dropdownId);
} }
function AngularDropdownContentComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, AngularDropdownContentComponent_ng_container_0_ng_container_1_Template, 13, 43, "ng-container", 1);
    ɵngcc0.ɵɵtemplate(2, AngularDropdownContentComponent_ng_container_0_div_2_Template, 1, 1, "div", 2);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const isOpen_r1 = ctx.ngIf;
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngWormhole", "#ng-dropdown-outlet")("ngWormholeRenderInPlace", ctx_r0.dropdown.renderInPlace);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !isOpen_r1);
} }
const _c0 = ["*"];
class AngularDropdownControlDirective {
    /**
     * @param {?} dropdown
     * @param {?} element
     */
    constructor(dropdown, element) {
        this.dropdown = dropdown;
        this.element = element;
        this.isDropdownOpen = false;
    }
    /**
     * @param {?} e
     * @return {?}
     */
    onClick(e) {
        e.stopPropagation();
        if (!this.dropdown.disabled) {
            this.dropdown.toggle();
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropdownStateSubscription = this.dropdown.isOpen$.subscribe(isOpen => (this.isDropdownOpen = isOpen));
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.dropdownStateSubscription && this.dropdownStateSubscription.unsubscribe();
    }
}
AngularDropdownControlDirective.ɵfac = function AngularDropdownControlDirective_Factory(t) { return new (t || AngularDropdownControlDirective)(ɵngcc0.ɵɵdirectiveInject(forwardRef(() => AngularDropdownDirective), 1), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
AngularDropdownControlDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: AngularDropdownControlDirective, selectors: [["", "ng-dropdown-control", ""], ["", "ngDropdownControl", ""]], hostVars: 7, hostBindings: function AngularDropdownControlDirective_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("click", function AngularDropdownControlDirective_click_HostBindingHandler($event) { return ctx.onClick($event); });
    } if (rf & 2) {
        ɵngcc0.ɵɵattribute("aria-haspopup", true)("aria-controls", ctx.dropdown.id)("aria-expanded", ctx.isDropdownOpen);
        ɵngcc0.ɵɵclassProp("ng-dropdown-control", true)("active", ctx.isDropdownOpen);
    } } });
AngularDropdownControlDirective.ctorParameters = () => [
    { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(() => AngularDropdownDirective),] }] },
    { type: ElementRef }
];
AngularDropdownControlDirective.propDecorators = {
    onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularDropdownControlDirective, [{
        type: Directive,
        args: [{
                selector: '[ng-dropdown-control],[ngDropdownControl]',
                host: {
                    '[attr.aria-haspopup]': 'true',
                    '[attr.aria-controls]': 'dropdown.id',
                    '[attr.aria-expanded]': 'isDropdownOpen',
                    '[class.ng-dropdown-control]': 'true',
                    '[class.active]': 'isDropdownOpen'
                }
            }]
    }], function () { return [{ type: AngularDropdownDirective, decorators: [{
                type: Host
            }, {
                type: Inject,
                args: [forwardRef(() => AngularDropdownDirective)]
            }] }, { type: ɵngcc0.ElementRef }]; }, { 
    /**
     * @param {?} e
     * @return {?}
     */
    onClick: [{
            type: HostListener,
            args: ['click', ['$event']]
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} element
 * @param {?} callback
 * @return {?}
 */
function waitForAnimation(element, callback) {
    if (element === null) {
        return;
    }
    requestAnimationFrame(() => {
        /** @type {?} */
        const computedStyle = window.getComputedStyle(element);
        if (computedStyle.animationName !== 'none' &&
            computedStyle.animationPlayState === 'running') {
            return once(element, 'animationend', callback);
        }
        callback();
    });
}
/**
 * @param {?} element
 * @param {?} eventName
 * @param {?} listener
 * @return {?}
 */
function once(element, eventName, listener) {
    element.addEventListener(eventName, function listenOnce(e) {
        element.removeEventListener(eventName, listenOnce);
        return listener(e);
    });
}
/** @type {?} */
const closest = typeof Element != 'undefined' && Element.prototype.closest
    ? (el, s) => el.closest(s)
    : function _closest(self, s) {
        /** @type {?} */
        const matches = (((/** @type {?} */ (self))).document || self.ownerDocument).querySelectorAll(s);
        /** @type {?} */
        let i;
        /** @type {?} */
        let el = self;
        do {
            i = matches.length;
            while (--i >= 0 && matches.item(i) !== el) { }
        } while (i < 0 && (el = el.parentElement));
        return el;
    };
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculatePosition(trigger, dropdown, { horizontalPosition, verticalPosition, matchTriggerWidth, previousHorizontalPosition, previousVerticalPosition }) {
    // Collect information about all the involved DOM elements
    /** @type {?} */
    const scroll = { left: window.pageXOffset, top: window.pageYOffset };
    const { left: triggerLeft, top: triggerTop, width: triggerWidth, height: triggerHeight } = trigger.getBoundingClientRect();
    let { height: dropdownHeight, width: dropdownWidth } = dropdown.getBoundingClientRect();
    /** @type {?} */
    const viewportWidth = window.innerWidth;
    /** @type {?} */
    const style = {};
    // Calculate drop down width
    dropdownWidth = matchTriggerWidth ? triggerWidth : dropdownWidth;
    if (matchTriggerWidth) {
        style.width = dropdownWidth;
    }
    // Calculate horizontal position
    /** @type {?} */
    const triggerLeftWithScroll = triggerLeft + scroll.left;
    if (horizontalPosition === 'auto') {
        // Calculate the number of visible horizontal pixels if we were to place the
        // dropdown on the left and right
        /** @type {?} */
        const leftVisible = Math.min(viewportWidth, triggerLeft + dropdownWidth) -
            Math.max(0, triggerLeft);
        /** @type {?} */
        const rightVisible = Math.min(viewportWidth, triggerLeft + triggerWidth) -
            Math.max(0, triggerLeft + triggerWidth - dropdownWidth);
        if (dropdownWidth > leftVisible && rightVisible > leftVisible) {
            // If the drop down won't fit left-aligned, and there is more space on the
            // right than on the left, then force right-aligned
            horizontalPosition = 'right';
        }
        else if (dropdownWidth > rightVisible && leftVisible > rightVisible) {
            // If the drop down won't fit right-aligned, and there is more space on
            // the left than on the right, then force left-aligned
            horizontalPosition = 'left';
        }
        else {
            // Keep same position as previous
            horizontalPosition = previousHorizontalPosition || 'left';
        }
    }
    if (horizontalPosition === 'right') {
        style.right = viewportWidth - (triggerLeftWithScroll + triggerWidth);
    }
    else if (horizontalPosition === 'center') {
        style.left = triggerLeftWithScroll + (triggerWidth - dropdownWidth) / 2;
    }
    else {
        style.left = triggerLeftWithScroll;
    }
    // Calculate vertical position
    /** @type {?} */
    const triggerTopWithScroll = triggerTop + scroll.top;
    if (verticalPosition === 'above') {
        style.top = triggerTopWithScroll - dropdownHeight;
    }
    else if (verticalPosition === 'below') {
        style.top = triggerTopWithScroll + triggerHeight;
    }
    else {
        /** @type {?} */
        const viewportBottom = scroll.top + self.window.innerHeight;
        /** @type {?} */
        const enoughRoomBelow = triggerTopWithScroll + triggerHeight + dropdownHeight < viewportBottom;
        /** @type {?} */
        const enoughRoomAbove = triggerTop > dropdownHeight;
        if (previousVerticalPosition === 'below' &&
            !enoughRoomBelow &&
            enoughRoomAbove) {
            verticalPosition = 'above';
        }
        else if (previousVerticalPosition === 'above' &&
            !enoughRoomAbove &&
            enoughRoomBelow) {
            verticalPosition = 'below';
        }
        else if (!previousVerticalPosition) {
            verticalPosition = enoughRoomBelow ? 'below' : 'above';
        }
        else {
            verticalPosition = previousVerticalPosition;
        }
        style.top =
            triggerTopWithScroll +
                (verticalPosition === 'below' ? triggerHeight : -dropdownHeight);
    }
    return { horizontalPosition, verticalPosition, style };
}
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculateInPlacePosition(trigger, dropdown, { horizontalPosition, verticalPosition }) {
    /** @type {?} */
    let dropdownRect;
    /** @type {?} */
    const positionData = {};
    if (horizontalPosition === 'auto') {
        /** @type {?} */
        const triggerRect = trigger.getBoundingClientRect();
        dropdownRect = dropdown.getBoundingClientRect();
        /** @type {?} */
        const viewportRight = window.pageXOffset + window.innerWidth;
        positionData.horizontalPosition =
            triggerRect.left + dropdownRect.width > viewportRight ? 'right' : 'left';
    }
    if (verticalPosition === 'above') {
        positionData.verticalPosition = verticalPosition;
        dropdownRect = dropdownRect || dropdown.getBoundingClientRect();
        positionData.style = { top: -dropdownRect.height };
    }
    return positionData;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
let _id = 1;
/**
 * @return {?}
 */
function generateDropdownId() {
    return _id++;
}
/** @type {?} */
const EmptyDropdownContentPosition = Object.freeze({
    vPosition: null,
    hPosition: null,
    top: null,
    left: null,
    bottom: null,
    right: null
});
class AngularDropdownDirective {
    /**
     * @param {?} document
     * @param {?=} id
     */
    constructor(document, id) {
        this.renderInPlace = false;
        this.control = null;
        this.previousVerticalPosition = null;
        this.previousHorizontalPosition = null;
        this.matchTriggerWidth = false;
        this._isOpen$ = new BehaviorSubject(false);
        this.isOpen$ = this._isOpen$.pipe(skip(1));
        this.position$ = new BehaviorSubject(EmptyDropdownContentPosition);
        this.calculatePosition = calculatePosition;
        this.calculateInPlacePosition = calculateInPlacePosition;
        this.disabled = false;
        this.beforeOpen = null;
        this.beforeClose = null;
        this.verticalPosition = 'auto';
        this.horizontalPosition = 'auto';
        this.onOpen = this.isOpen$.pipe(filter(open => open === true));
        this.onClose = this.isOpen$.pipe(filter(open => open === false));
        this.uniqueId = null;
        this.width = null;
        this.reposition = () => {
            if (!this._isOpen$.getValue()) {
                return null;
            }
            /** @type {?} */
            const dropdownElement = this.dropdownElement;
            if (!dropdownElement || !this.triggerElement) {
                return null;
            }
            /** @type {?} */
            const _calculatePosition = this.renderInPlace
                ? this.calculateInPlacePosition
                : this.calculatePosition;
            /** @type {?} */
            const options = {
                horizontalPosition: this.horizontalPosition,
                verticalPosition: this.verticalPosition,
                matchTriggerWidth: this.matchTriggerWidth,
                previousHorizontalPosition: this.previousHorizontalPosition,
                previousVerticalPosition: this.previousVerticalPosition
            };
            /** @type {?} */
            const positionData = _calculatePosition(this.triggerElement, dropdownElement, options);
            return this.applyReposition(this.triggerElement, dropdownElement, positionData);
        };
        this.document = document;
        this.initializeId(id);
        this.createDefaultWormholeOutlet();
    }
    /**
     * @return {?}
     */
    get dropdownId() {
        return `ng-dropdown-content-${this.uniqueId}`;
    }
    /**
     * @return {?}
     */
    get triggerElement() {
        return this.control && this.control.element.nativeElement;
    }
    /**
     * @return {?}
     */
    get dropdownElement() {
        return this.document.getElementById(this.dropdownId);
    }
    /**
     * @param {?} __0
     * @return {?}
     */
    ngOnChanges({ disabled }) {
        if (disabled &&
            disabled.firstChange === false &&
            disabled.currentValue === true &&
            disabled.previousValue !== true) {
            this.disable();
        }
    }
    /**
     * @return {?}
     */
    open() {
        if (this.disabled || this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        let open$ = of(true);
        if (this.beforeOpen) {
            /** @type {?} */
            const result = this.beforeOpen();
            open$ = result instanceof Observable ? result : of(result);
        }
        open$
            .pipe(first(), filter(open => open === true))
            .subscribe(() => this._isOpen$.next(true));
    }
    /**
     * @param {?=} skipFocus
     * @return {?}
     */
    close(skipFocus = false) {
        if (this.disabled || !this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        let close$ = of(true);
        if (this.beforeClose) {
            /** @type {?} */
            const result = this.beforeClose();
            close$ = result instanceof Observable ? result : of(result);
        }
        close$
            .pipe(first(), filter(close => close === true))
            .subscribe(() => {
            Object.assign(this, {
                hPosition: null,
                vPosition: null,
                top: null,
                right: null,
                bottom: null,
                left: null,
                width: null,
                previousVerticalPosition: null,
                previousHorizontalPosition: null
            });
            this._isOpen$.next(false);
            if (!skipFocus) {
                if (this.triggerElement instanceof HTMLElement &&
                    this.triggerElement.tabIndex > -1) {
                    this.triggerElement.focus();
                }
            }
        });
    }
    /**
     * @return {?}
     */
    toggle() {
        if (this._isOpen$.getValue()) {
            this.close();
        }
        else {
            this.open();
        }
    }
    /**
     * @return {?}
     */
    disable() {
        this.disabled = true;
        this.close();
    }
    /**
     * @return {?}
     */
    enable() {
        this.disabled = false;
    }
    /**
     * @param {?} trigger
     * @param {?} dropdown
     * @param {?} positions
     * @return {?}
     */
    applyReposition(trigger, dropdown, positions) {
        /** @type {?} */
        const changes = {
            hPosition: positions.horizontalPosition,
            vPosition: positions.verticalPosition
        };
        if (positions.style) {
            changes.top = `${positions.style.top}px`;
            // The component can be aligned from the right or from the left, but not from both.
            if (positions.style.left != null) {
                changes.left = `${positions.style.left}px`;
                changes.right = null;
            }
            else if (positions.style.right != null) {
                changes.right = `${positions.style.right}px`;
                changes.left = null;
            }
            if (positions.style.width != null) {
                changes.width = `${positions.style.width}px`;
            }
            if (this.position$.getValue().top == null) {
                // Bypass on the first reposition only to avoid flickering.
                Object.keys(positions.style).forEach(k => (dropdown.style[(/** @type {?} */ (k))] = positions.style[k]));
            }
        }
        this.position$.next(changes);
        this.previousHorizontalPosition = positions.horizontalPosition;
        this.previousVerticalPosition = positions.verticalPosition;
        return changes;
    }
    /**
     * @param {?=} id
     * @return {?}
     */
    initializeId(id) {
        if (id) {
            this.id = this.uniqueId = id;
        }
        else {
            this.uniqueId = generateDropdownId();
            this.id = `ng-dropdown-${this.uniqueId}`;
        }
    }
    /**
     * @return {?}
     */
    createDefaultWormholeOutlet() {
        if (!this.document.getElementById('ng-dropdown-outlet')) {
            /** @type {?} */
            const outlet = this.document.createElement('div');
            outlet.id = 'ng-dropdown-outlet';
            this.document.body.insertBefore(outlet, this.document.body.firstChild);
        }
    }
}
AngularDropdownDirective.ɵfac = function AngularDropdownDirective_Factory(t) { return new (t || AngularDropdownDirective)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵinjectAttribute('id')); };
AngularDropdownDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: AngularDropdownDirective, selectors: [["ng-dropdown"], ["", "ngDropdown", ""], ["", "ng-dropdown", ""]], contentQueries: function AngularDropdownDirective_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, AngularDropdownControlDirective, 5);
        ɵngcc0.ɵɵcontentQuery(dirIndex, AngularDropdownContentComponent, 5);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.control = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownContent = _t.first);
    } }, hostVars: 4, hostBindings: function AngularDropdownDirective_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵclassProp("render-in-place", ctx.renderInPlace)("ng-dropdown", true);
    } }, inputs: { renderInPlace: "renderInPlace", calculatePosition: "calculatePosition", calculateInPlacePosition: "calculateInPlacePosition", disabled: "disabled", beforeOpen: "beforeOpen", beforeClose: "beforeClose", verticalPosition: "verticalPosition", horizontalPosition: "horizontalPosition" }, outputs: { onOpen: "open", onClose: "close" }, exportAs: ["ngDropdown"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
AngularDropdownDirective.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
    { type: String, decorators: [{ type: Attribute, args: ['id',] }] }
];
AngularDropdownDirective.propDecorators = {
    renderInPlace: [{ type: Input }],
    control: [{ type: ContentChild, args: [AngularDropdownControlDirective,] }],
    calculatePosition: [{ type: Input }],
    calculateInPlacePosition: [{ type: Input }],
    disabled: [{ type: Input }],
    beforeOpen: [{ type: Input }],
    beforeClose: [{ type: Input }],
    verticalPosition: [{ type: Input }],
    horizontalPosition: [{ type: Input }],
    onOpen: [{ type: Output, args: ['open',] }],
    onClose: [{ type: Output, args: ['close',] }],
    dropdownContent: [{ type: ContentChild, args: [forwardRef(() => AngularDropdownContentComponent),] }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularDropdownDirective, [{
        type: Directive,
        args: [{
                selector: 'ng-dropdown,[ngDropdown],[ng-dropdown]',
                host: {
                    '[class.render-in-place]': 'renderInPlace',
                    '[class.ng-dropdown]': 'true'
                },
                exportAs: 'ngDropdown'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Inject,
                args: [DOCUMENT]
            }] }, { type: String, decorators: [{
                type: Attribute,
                args: ['id']
            }] }]; }, { renderInPlace: [{
            type: Input
        }], control: [{
            type: ContentChild,
            args: [AngularDropdownControlDirective]
        }], calculatePosition: [{
            type: Input
        }], calculateInPlacePosition: [{
            type: Input
        }], disabled: [{
            type: Input
        }], beforeOpen: [{
            type: Input
        }], beforeClose: [{
            type: Input
        }], verticalPosition: [{
            type: Input
        }], horizontalPosition: [{
            type: Input
        }], onOpen: [{
            type: Output,
            args: ['open']
        }], onClose: [{
            type: Output,
            args: ['close']
        }], dropdownContent: [{
            type: ContentChild,
            args: [forwardRef(() => AngularDropdownContentComponent)]
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
const MutationObserver = ((/** @type {?} */ (window))).MutationObserver;
class AngularDropdownContentComponent {
    /**
     * @param {?} dropdown
     * @param {?} zone
     * @param {?} document
     */
    constructor(dropdown, zone, document) {
        this.dropdown = dropdown;
        this.zone = zone;
        this.dropdownClass = '';
        this.overlay = false;
        this.hasMoved = false;
        this._animationClass = null;
        this.isTouchDevice = 'ontouchstart' in window;
        this.mutationObserver = null;
        this.destroy$ = new Subject();
        this.transitioningInClass = 'ng-dropdown-content--transitioning-in';
        this.transitionedInClass = 'ng-dropdown-content--transitioned-in';
        this.transitioningOutClass = 'ng-dropdown-content--transitioning-out';
        this.shouldOpen = false;
        this.repositionInZone = () => this.zone.run(() => this.dropdown.reposition());
        this.handleRootMouseDown = (e) => {
            const { target } = (/** @type {?} */ (e));
            if (this.hasMoved ||
                (this.dropdownElement !== null &&
                    this.dropdownElement.contains(target)) ||
                (this.triggerElement !== null && this.triggerElement.contains(target))) {
                this.hasMoved = false;
                return;
            }
            /** @type {?} */
            const closestDropdown = closest(target, 'ng-dropdown-content');
            if (closestDropdown !== null) {
                /** @type {?} */
                const trigger = this.document.querySelector(`[aria-controls=${closestDropdown.getAttribute('id')}]`);
                /** @type {?} */
                const parentDropdown = closest((/** @type {?} */ (trigger)), 'ng-dropdown-content');
                if (parentDropdown !== null &&
                    parentDropdown.getAttribute('id') === this.dropdown.dropdownId) {
                    this.hasMoved = false;
                    return;
                }
            }
            this.dropdown.close(true);
        };
        this.touchStartHandler = (e) => {
            this.document.body.addEventListener('touchmove', this.touchMoveHandler, true);
        };
        this.touchMoveHandler = (e) => {
            this.hasMoved = true;
            this.document.body.removeEventListener('touchmove', this.touchMoveHandler, true);
        };
        this.document = document;
    }
    /**
     * @return {?}
     */
    get dropdownElement() {
        return this.dropdown.dropdownElement;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropdown.onOpen
            .pipe(takeUntil(this.destroy$))
            .subscribe(() => (this.shouldOpen = true));
        this.dropdown.onClose
            .pipe(takeUntil(this.destroy$))
            .subscribe(() => this.close());
    }
    /**
     * @param {?} className
     * @return {?}
     */
    set animationClass(className) {
        if (this.dropdownElement !== null) {
            if (this._animationClass && className !== this._animationClass) {
                this.dropdownElement.classList.remove(this._animationClass);
            }
            else if (className) {
                this.dropdownElement.classList.add(className);
            }
        }
        this._animationClass = className;
    }
    /**
     * @return {?}
     */
    get animationClass() {
        return this._animationClass;
    }
    /**
     * @return {?}
     */
    get triggerElement() {
        return this.dropdown.triggerElement;
    }
    /**
     * @return {?}
     */
    ngAfterViewChecked() {
        if (this.shouldOpen) {
            this.animationClass = this.transitioningInClass;
            requestAnimationFrame(() => this.open());
            this.shouldOpen = false;
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.destroy$.next();
        this.teardownEvents();
    }
    /**
     * @return {?}
     */
    open() {
        this.document.body.addEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.addEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.addEventListener('touchend', this.handleRootMouseDown, true);
        }
        /** @type {?} */
        const changes = this.dropdown.reposition();
        if (!this.dropdown.renderInPlace) {
            this.addGlobalEvents();
            this.startObservingDomMutations();
        }
        else if (changes !== null && changes.vPosition === 'above') {
            this.startObservingDomMutations();
        }
        requestAnimationFrame(() => this.animateIn());
    }
    /**
     * @return {?}
     */
    close() {
        this.teardownEvents();
        this.animateOut();
    }
    /**
     * @return {?}
     */
    animateIn() {
        waitForAnimation(this.dropdownElement, () => {
            this.animationClass = this.transitionedInClass;
        });
    }
    /**
     * @return {?}
     */
    animateOut() {
        if (this.dropdownElement === null) {
            return;
        }
        /** @type {?} */
        const parentElement = this.dropdown.renderInPlace
            ? (/** @type {?} */ ((/** @type {?} */ (this.dropdownElement.parentElement)).parentElement))
            : (/** @type {?} */ (this.dropdownElement.parentElement));
        /** @type {?} */
        const clone = (/** @type {?} */ (this.dropdownElement.cloneNode(true)));
        clone.id = `${this.dropdownElement.id}--clone`;
        clone.classList.remove(this.transitionedInClass);
        clone.classList.remove(this.transitioningInClass);
        clone.classList.add(this.transitioningOutClass);
        parentElement.appendChild(clone);
        this.animationClass = this.transitioningInClass;
        waitForAnimation(clone, () => parentElement.removeChild(clone));
    }
    /**
     * @return {?}
     */
    startObservingDomMutations() {
        if (MutationObserver !== undefined) {
            this.mutationObserver = new MutationObserver((mutations) => {
                if (mutations[0].addedNodes.length ||
                    mutations[0].removedNodes.length) {
                    this.repositionInZone();
                }
            });
            (/** @type {?} */ (this.mutationObserver)).observe((/** @type {?} */ (this.dropdownElement)), {
                childList: true,
                subtree: true
            });
        }
        else {
            (/** @type {?} */ (this.dropdownElement)).addEventListener('DOMNodeInserted', this.repositionInZone, false);
            (/** @type {?} */ (this.dropdownElement)).addEventListener('DOMNodeRemoved', this.repositionInZone, false);
        }
    }
    /**
     * @return {?}
     */
    stopObservingDomMutations() {
        if (MutationObserver) {
            if (this.mutationObserver) {
                this.mutationObserver.disconnect();
                this.mutationObserver = null;
            }
        }
        else {
            if (this.dropdownElement !== null) {
                this.dropdownElement.removeEventListener('DOMNodeInserted', this.repositionInZone);
                this.dropdownElement.removeEventListener('DOMNodeRemoved', this.repositionInZone);
            }
        }
    }
    /**
     * @return {?}
     */
    addGlobalEvents() {
        window.addEventListener('scroll', this.repositionInZone);
        window.addEventListener('resize', this.repositionInZone);
        window.addEventListener('orientationchange', this.repositionInZone);
    }
    /**
     * @return {?}
     */
    removeGlobalEvents() {
        window.removeEventListener('scroll', this.repositionInZone);
        window.removeEventListener('resize', this.repositionInZone);
        window.removeEventListener('orientationchange', this.repositionInZone);
    }
    /**
     * @return {?}
     */
    teardownEvents() {
        this.removeGlobalEvents();
        this.stopObservingDomMutations();
        this.document.body.removeEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.removeEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.removeEventListener('touchend', this.handleRootMouseDown, true);
        }
    }
}
AngularDropdownContentComponent.ɵfac = function AngularDropdownContentComponent_Factory(t) { return new (t || AngularDropdownContentComponent)(ɵngcc0.ɵɵdirectiveInject(forwardRef(() => AngularDropdownDirective), 1), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(DOCUMENT)); };
AngularDropdownContentComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AngularDropdownContentComponent, selectors: [["ng-dropdown-content"], ["", "ng-dropdown-content", ""], ["", "ngDropdownContent", ""]], hostVars: 2, hostBindings: function AngularDropdownContentComponent_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵclassProp("render-in-place", ctx.dropdown.renderInPlace);
    } }, inputs: { dropdownClass: "dropdownClass", overlay: "overlay", transitioningInClass: "transitioningInClass", transitionedInClass: "transitionedInClass", transitioningOutClass: "transitioningOutClass" }, ngContentSelectors: _c0, decls: 2, vars: 3, consts: [[4, "ngIf"], [4, "ngWormhole", "ngWormholeRenderInPlace"], ["class", "ng-dropdown-placeholder", 3, "id", 4, "ngIf"], ["class", "ng-dropdown-overlay", 4, "ngIf"], [3, "id"], [1, "ng-dropdown-overlay"], [1, "ng-dropdown-placeholder", 3, "id"]], template: function AngularDropdownContentComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵtemplate(0, AngularDropdownContentComponent_ng_container_0_Template, 3, 3, "ng-container", 0);
        ɵngcc0.ɵɵpipe(1, "async");
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.dropdown.isOpen$));
    } }, directives: [ɵngcc1.NgIf, ɵngcc2.NgWormholeDirective], pipes: [ɵngcc1.AsyncPipe], styles: ["[_nghost-%COMP%]{display:none}.render-in-place[_nghost-%COMP%]{display:block;position:absolute}"] });
AngularDropdownContentComponent.ctorParameters = () => [
    { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(() => AngularDropdownDirective),] }] },
    { type: NgZone },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
AngularDropdownContentComponent.propDecorators = {
    dropdownClass: [{ type: Input }],
    overlay: [{ type: Input }],
    transitioningInClass: [{ type: Input }],
    transitionedInClass: [{ type: Input }],
    transitioningOutClass: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularDropdownContentComponent, [{
        type: Component,
        args: [{
                selector: 'ng-dropdown-content,[ng-dropdown-content],[ngDropdownContent]',
                template: "<ng-container *ngIf=\"dropdown.isOpen$ | async as isOpen\">\n  <ng-container *ngWormhole=\"'#ng-dropdown-outlet'; renderInPlace: dropdown.renderInPlace\">\n    <div *ngIf=\"overlay && isOpen\" class=\"ng-dropdown-overlay\"></div>\n    <div [id]=\"dropdown.dropdownId\"\n        class=\"ng-dropdown-content {{dropdownClass}}\"\n        [style.top]=\"(dropdown.position$ | async)?.top\"\n        [style.right]=\"(dropdown.position$ | async)?.right\"\n        [style.bottom]=\"(dropdown.position$ | async)?.bottom\"\n        [style.left]=\"(dropdown.position$ | async)?.left\"\n        [class.render-in-place]=\"dropdown.renderInPlace\"\n        [class.ng-dropdown-content--above]=\"(dropdown.position$ | async)?.vPosition === 'above'\"\n        [class.ng-dropdown-content--below]=\"(dropdown.position$ | async)?.vPosition === 'below'\"\n        [class.ng-dropdown-content--right]=\"(dropdown.position$ | async)?.hPosition === 'right'\"\n        [class.ng-dropdown-content--center]=\"(dropdown.position$ | async)?.hPosition === 'center'\"\n        [class.ng-dropdown-content--left]=\"(dropdown.position$ | async)?.hPosition === 'left'\">\n      <ng-content></ng-content>\n    </div>\n  </ng-container>\n  <div *ngIf=\"!isOpen\" [id]=\"dropdown.dropdownId\" class=\"ng-dropdown-placeholder\"></div>\n</ng-container>\n",
                host: {
                    '[class.render-in-place]': 'dropdown.renderInPlace'
                },
                styles: [":host{display:none}:host.render-in-place{display:block;position:absolute}"]
            }]
    }], function () { return [{ type: AngularDropdownDirective, decorators: [{
                type: Host
            }, {
                type: Inject,
                args: [forwardRef(() => AngularDropdownDirective)]
            }] }, { type: ɵngcc0.NgZone }, { type: undefined, decorators: [{
                type: Inject,
                args: [DOCUMENT]
            }] }]; }, { dropdownClass: [{
            type: Input
        }], overlay: [{
            type: Input
        }], transitioningInClass: [{
            type: Input
        }], transitionedInClass: [{
            type: Input
        }], transitioningOutClass: [{
            type: Input
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class AngularDropdownModule {
}
AngularDropdownModule.ɵfac = function AngularDropdownModule_Factory(t) { return new (t || AngularDropdownModule)(); };
AngularDropdownModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: AngularDropdownModule });
AngularDropdownModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule, NgWormholeModule]] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularDropdownModule, [{
        type: NgModule,
        args: [{
                imports: [CommonModule, NgWormholeModule],
                declarations: [
                    AngularDropdownDirective,
                    AngularDropdownControlDirective,
                    AngularDropdownContentComponent
                ],
                exports: [
                    AngularDropdownDirective,
                    AngularDropdownControlDirective,
                    AngularDropdownContentComponent
                ]
            }]
    }], null, null); })();
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AngularDropdownModule, { declarations: function () { return [AngularDropdownDirective, AngularDropdownControlDirective, AngularDropdownContentComponent]; }, imports: function () { return [CommonModule, NgWormholeModule]; }, exports: function () { return [AngularDropdownDirective, AngularDropdownControlDirective, AngularDropdownContentComponent]; } }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { AngularDropdownContentComponent, AngularDropdownControlDirective, AngularDropdownDirective, AngularDropdownModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1kcm9wZG93bi5qcyIsInNvdXJjZXMiOlsiYW5ndWxhci1kcm9wZG93bi9saWIvYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZS50cyIsImFuZ3VsYXItZHJvcGRvd24vbGliL3V0aWxzLnRzIiwiYW5ndWxhci1kcm9wZG93bi9saWIvYW5ndWxhci1kcm9wZG93bi5kaXJlY3RpdmUudHMiLCJhbmd1bGFyLWRyb3Bkb3duL2xpYi9hbmd1bGFyLWRyb3Bkb3duLWNvbnRlbnQuY29tcG9uZW50LnRzIiwiYW5ndWxhci1kcm9wZG93bi9saWIvYW5ndWxhci1kcm9wZG93bi5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0k7QUFDRjtBQUVJO0FBRUc7QUFBUSxJQTZCZixZQUdXLFFBQWtDLEVBQ2xDLE9BQW1CO0FBQ2hDLFFBRmEsYUFBUSxHQUFSLFFBQVEsQ0FBMEI7QUFBQyxRQUNuQyxZQUFPLEdBQVAsT0FBTyxDQUFZO0FBQUMsUUFoQi9CLG1CQUFjLEdBQVksS0FBSyxDQUFDO0FBQ2xDLEtBZ0JHO0FBQ0g7QUFDTztBQUNLO0FBQW1CO0FBQVEsSUFoQnJDLE9BQU8sQ0FBQyxDQUFRO0FBQUksUUFDbEIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0FBQ3hCLFFBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0FBQ2pDLFlBQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM3QixTQUFLO0FBQ0wsS0FBRztBQUNIO0FBQ087QUFDSTtBQUNOLElBS0gsUUFBUTtBQUNWLFFBQUksSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FDOUQsTUFBTSxLQUFLLElBQUksQ0FBQyxj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LEFBU0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQXRDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBYkEsQUFBQSxBQTRCQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQXJDQSxBQUFBLEFBMEJBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUM1QkEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUM3S0EsQUFpQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQVVBLEFBZ0VBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUE1REEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFPQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBbUdBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQWhJQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWhEQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUEyQkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFxQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBaFFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWlFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBN0RBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQWtCQSxBQUFBLEFBRUEsQUFBQSxBQUdBLEFBQUEsQUFHQSxBQUFBLEFBR0EsQUFBQSxBQUdBLEFBQUEsQUFFQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQVdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUM1SEEsQUFvQkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFVQSxBQTRCQSxBQUdBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUZBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBN0JBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQU1BLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUEyRkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUEwQkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBOERBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQXROQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBZkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBZUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFLQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBaUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBbUJBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBeFJBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQVpBLEFBQUEsQUEwQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFoREEsQUFBQSxBQW1EQSxBQUFBLEFBQUEsQUFBQSxBQS9CQSxBQUFBLEFBR0EsQUFBQSxBQVNBLEFBQUEsQUFFQSxBQUFBLEFBRUEsQUFBQSxBQ2hEQSxBQVNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEluamVjdCxcbiAgZm9yd2FyZFJlZixcbiAgSW5wdXQsXG4gIEhvc3QsXG4gIEhvc3RMaXN0ZW5lclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlIH1cbiAgZnJvbSAnLi9hbmd1bGFyLWRyb3Bkb3duLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW25nLWRyb3Bkb3duLWNvbnRyb2xdLFtuZ0Ryb3Bkb3duQ29udHJvbF0nLFxuICBob3N0OiB7XG4gICAgJ1thdHRyLmFyaWEtaGFzcG9wdXBdJzogJ3RydWUnLFxuICAgICdbYXR0ci5hcmlhLWNvbnRyb2xzXSc6ICdkcm9wZG93bi5pZCcsXG4gICAgJ1thdHRyLmFyaWEtZXhwYW5kZWRdJzogJ2lzRHJvcGRvd25PcGVuJyxcbiAgICAnW2NsYXNzLm5nLWRyb3Bkb3duLWNvbnRyb2xdJzogJ3RydWUnLFxuICAgICdbY2xhc3MuYWN0aXZlXSc6ICdpc0Ryb3Bkb3duT3BlbidcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyRHJvcGRvd25Db250cm9sRGlyZWN0aXZlIHtcbiAgaXNEcm9wZG93bk9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsgJyRldmVudCcgXSlcbiAgb25DbGljayhlOiBFdmVudCk6IHZvaWQge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoIXRoaXMuZHJvcGRvd24uZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZHJvcGRvd24udG9nZ2xlKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBASG9zdCgpXG4gICAgICBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlKSlcbiAgICAgIHB1YmxpYyBkcm9wZG93bjogQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlLFxuICAgICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnRSZWYpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbiA9IHRoaXMuZHJvcGRvd24uaXNPcGVuJC5zdWJzY3JpYmUoXG4gICAgICBpc09wZW4gPT4gKHRoaXMuaXNEcm9wZG93bk9wZW4gPSBpc09wZW4pXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCl7XG4gICAgdGhpcy5kcm9wZG93blN0YXRlU3Vic2NyaXB0aW9uICYmIHRoaXMuZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gd2FpdEZvckFuaW1hdGlvbihcbiAgZWxlbWVudDogRWxlbWVudCB8IG51bGwsXG4gIGNhbGxiYWNrOiAoZT86IEV2ZW50KSA9PiBhbnlcbik6IHZvaWQge1xuICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgaWYgKFxuICAgICAgY29tcHV0ZWRTdHlsZS5hbmltYXRpb25OYW1lICE9PSAnbm9uZScgJiZcbiAgICAgIGNvbXB1dGVkU3R5bGUuYW5pbWF0aW9uUGxheVN0YXRlID09PSAncnVubmluZydcbiAgICApIHtcbiAgICAgIHJldHVybiBvbmNlKGVsZW1lbnQsICdhbmltYXRpb25lbmQnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uY2UoXG4gIGVsZW1lbnQ6IE5vZGUsXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBsaXN0ZW5lcjogKGU6IEV2ZW50KSA9PiBhbnlcbik6IHZvaWQge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiBsaXN0ZW5PbmNlKGUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5PbmNlKTtcblxuICAgIHJldHVybiBsaXN0ZW5lcihlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBjbG9zZXN0OiAoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZykgPT4gRWxlbWVudCB8IG51bGwgPVxuICB0eXBlb2YgRWxlbWVudCAhPSAndW5kZWZpbmVkJyAmJiBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XG4gICAgPyAoZWwsIHMpID0+IGVsLmNsb3Nlc3QocylcbiAgICA6IGZ1bmN0aW9uIF9jbG9zZXN0KHNlbGY6IEVsZW1lbnQsIHM6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gKFxuICAgICAgICAgIChzZWxmIGFzIGFueSkuZG9jdW1lbnQgfHwgc2VsZi5vd25lckRvY3VtZW50XG4gICAgICAgICkucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBlbDogRWxlbWVudCB8IG51bGwgPSBzZWxmO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IGVsKSB7fVxuICAgICAgICB9IHdoaWxlIChpIDwgMCAmJiAoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihcbiAgdHJpZ2dlcjogRWxlbWVudCxcbiAgZHJvcGRvd246IEVsZW1lbnQsXG4gIHtcbiAgICBob3Jpem9udGFsUG9zaXRpb24sXG4gICAgdmVydGljYWxQb3NpdGlvbixcbiAgICBtYXRjaFRyaWdnZXJXaWR0aCxcbiAgICBwcmV2aW91c0hvcml6b250YWxQb3NpdGlvbixcbiAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb25cbiAgfTogYW55XG4pOiBhbnkge1xuICAvLyBDb2xsZWN0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgaW52b2x2ZWQgRE9NIGVsZW1lbnRzXG4gIGNvbnN0IHNjcm9sbCA9IHsgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3A6IHdpbmRvdy5wYWdlWU9mZnNldCB9O1xuICBjb25zdCB7XG4gICAgbGVmdDogdHJpZ2dlckxlZnQsXG4gICAgdG9wOiB0cmlnZ2VyVG9wLFxuICAgIHdpZHRoOiB0cmlnZ2VyV2lkdGgsXG4gICAgaGVpZ2h0OiB0cmlnZ2VySGVpZ2h0XG4gIH0gPSB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQge1xuICAgIGhlaWdodDogZHJvcGRvd25IZWlnaHQsXG4gICAgd2lkdGg6IGRyb3Bkb3duV2lkdGhcbiAgfSA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnN0IHN0eWxlOiBhbnkgPSB7fTtcblxuICAvLyBDYWxjdWxhdGUgZHJvcCBkb3duIHdpZHRoXG4gIGRyb3Bkb3duV2lkdGggPSBtYXRjaFRyaWdnZXJXaWR0aCA/IHRyaWdnZXJXaWR0aCA6IGRyb3Bkb3duV2lkdGg7XG4gIGlmIChtYXRjaFRyaWdnZXJXaWR0aCkge1xuICAgIHN0eWxlLndpZHRoID0gZHJvcGRvd25XaWR0aDtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBob3Jpem9udGFsIHBvc2l0aW9uXG4gIGNvbnN0IHRyaWdnZXJMZWZ0V2l0aFNjcm9sbCA9IHRyaWdnZXJMZWZ0ICsgc2Nyb2xsLmxlZnQ7XG4gIGlmIChob3Jpem9udGFsUG9zaXRpb24gPT09ICdhdXRvJykge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHZpc2libGUgaG9yaXpvbnRhbCBwaXhlbHMgaWYgd2Ugd2VyZSB0byBwbGFjZSB0aGVcbiAgICAvLyBkcm9wZG93biBvbiB0aGUgbGVmdCBhbmQgcmlnaHRcbiAgICBjb25zdCBsZWZ0VmlzaWJsZSA9XG4gICAgICBNYXRoLm1pbih2aWV3cG9ydFdpZHRoLCB0cmlnZ2VyTGVmdCArIGRyb3Bkb3duV2lkdGgpIC1cbiAgICAgIE1hdGgubWF4KDAsIHRyaWdnZXJMZWZ0KTtcbiAgICBjb25zdCByaWdodFZpc2libGUgPVxuICAgICAgTWF0aC5taW4odmlld3BvcnRXaWR0aCwgdHJpZ2dlckxlZnQgKyB0cmlnZ2VyV2lkdGgpIC1cbiAgICAgIE1hdGgubWF4KDAsIHRyaWdnZXJMZWZ0ICsgdHJpZ2dlcldpZHRoIC0gZHJvcGRvd25XaWR0aCk7XG5cbiAgICBpZiAoZHJvcGRvd25XaWR0aCA+IGxlZnRWaXNpYmxlICYmIHJpZ2h0VmlzaWJsZSA+IGxlZnRWaXNpYmxlKSB7XG4gICAgICAvLyBJZiB0aGUgZHJvcCBkb3duIHdvbid0IGZpdCBsZWZ0LWFsaWduZWQsIGFuZCB0aGVyZSBpcyBtb3JlIHNwYWNlIG9uIHRoZVxuICAgICAgLy8gcmlnaHQgdGhhbiBvbiB0aGUgbGVmdCwgdGhlbiBmb3JjZSByaWdodC1hbGlnbmVkXG4gICAgICBob3Jpem9udGFsUG9zaXRpb24gPSAncmlnaHQnO1xuICAgIH0gZWxzZSBpZiAoZHJvcGRvd25XaWR0aCA+IHJpZ2h0VmlzaWJsZSAmJiBsZWZ0VmlzaWJsZSA+IHJpZ2h0VmlzaWJsZSkge1xuICAgICAgLy8gSWYgdGhlIGRyb3AgZG93biB3b24ndCBmaXQgcmlnaHQtYWxpZ25lZCwgYW5kIHRoZXJlIGlzIG1vcmUgc3BhY2Ugb25cbiAgICAgIC8vIHRoZSBsZWZ0IHRoYW4gb24gdGhlIHJpZ2h0LCB0aGVuIGZvcmNlIGxlZnQtYWxpZ25lZFxuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uID0gJ2xlZnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIHNhbWUgcG9zaXRpb24gYXMgcHJldmlvdXNcbiAgICAgIGhvcml6b250YWxQb3NpdGlvbiA9IHByZXZpb3VzSG9yaXpvbnRhbFBvc2l0aW9uIHx8ICdsZWZ0JztcbiAgICB9XG4gIH1cbiAgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHN0eWxlLnJpZ2h0ID0gdmlld3BvcnRXaWR0aCAtICh0cmlnZ2VyTGVmdFdpdGhTY3JvbGwgKyB0cmlnZ2VyV2lkdGgpO1xuICB9IGVsc2UgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICBzdHlsZS5sZWZ0ID0gdHJpZ2dlckxlZnRXaXRoU2Nyb2xsICsgKHRyaWdnZXJXaWR0aCAtIGRyb3Bkb3duV2lkdGgpIC8gMjtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5sZWZ0ID0gdHJpZ2dlckxlZnRXaXRoU2Nyb2xsO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIHZlcnRpY2FsIHBvc2l0aW9uXG4gIGNvbnN0IHRyaWdnZXJUb3BXaXRoU2Nyb2xsID0gdHJpZ2dlclRvcCArIHNjcm9sbC50b3A7XG4gIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYWJvdmUnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgLSBkcm9wZG93bkhlaWdodDtcbiAgfSBlbHNlIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYmVsb3cnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgKyB0cmlnZ2VySGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpZXdwb3J0Qm90dG9tID0gc2Nyb2xsLnRvcCArIHNlbGYud2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IGVub3VnaFJvb21CZWxvdyA9XG4gICAgICB0cmlnZ2VyVG9wV2l0aFNjcm9sbCArIHRyaWdnZXJIZWlnaHQgKyBkcm9wZG93bkhlaWdodCA8IHZpZXdwb3J0Qm90dG9tO1xuICAgIGNvbnN0IGVub3VnaFJvb21BYm92ZSA9IHRyaWdnZXJUb3AgPiBkcm9wZG93bkhlaWdodDtcblxuICAgIGlmIChcbiAgICAgIHByZXZpb3VzVmVydGljYWxQb3NpdGlvbiA9PT0gJ2JlbG93JyAmJlxuICAgICAgIWVub3VnaFJvb21CZWxvdyAmJlxuICAgICAgZW5vdWdoUm9vbUFib3ZlXG4gICAgKSB7XG4gICAgICB2ZXJ0aWNhbFBvc2l0aW9uID0gJ2Fib3ZlJztcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uID09PSAnYWJvdmUnICYmXG4gICAgICAhZW5vdWdoUm9vbUFib3ZlICYmXG4gICAgICBlbm91Z2hSb29tQmVsb3dcbiAgICApIHtcbiAgICAgIHZlcnRpY2FsUG9zaXRpb24gPSAnYmVsb3cnO1xuICAgIH0gZWxzZSBpZiAoIXByZXZpb3VzVmVydGljYWxQb3NpdGlvbikge1xuICAgICAgdmVydGljYWxQb3NpdGlvbiA9IGVub3VnaFJvb21CZWxvdyA/ICdiZWxvdycgOiAnYWJvdmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0aWNhbFBvc2l0aW9uID0gcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uO1xuICAgIH1cbiAgICBzdHlsZS50b3AgPVxuICAgICAgdHJpZ2dlclRvcFdpdGhTY3JvbGwgK1xuICAgICAgKHZlcnRpY2FsUG9zaXRpb24gPT09ICdiZWxvdycgPyB0cmlnZ2VySGVpZ2h0IDogLWRyb3Bkb3duSGVpZ2h0KTtcbiAgfVxuXG4gIHJldHVybiB7IGhvcml6b250YWxQb3NpdGlvbiwgdmVydGljYWxQb3NpdGlvbiwgc3R5bGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUluUGxhY2VQb3NpdGlvbihcbiAgdHJpZ2dlcjogRWxlbWVudCxcbiAgZHJvcGRvd246IEVsZW1lbnQsXG4gIHsgaG9yaXpvbnRhbFBvc2l0aW9uLCB2ZXJ0aWNhbFBvc2l0aW9uIH06IGFueVxuKSB7XG4gIGxldCBkcm9wZG93blJlY3Q7XG4gIGNvbnN0IHBvc2l0aW9uRGF0YTogYW55ID0ge307XG5cbiAgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgY29uc3QgdHJpZ2dlclJlY3QgPSB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGRyb3Bkb3duUmVjdCA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHZpZXdwb3J0UmlnaHQgPSB3aW5kb3cucGFnZVhPZmZzZXQgKyB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBwb3NpdGlvbkRhdGEuaG9yaXpvbnRhbFBvc2l0aW9uID1cbiAgICAgIHRyaWdnZXJSZWN0LmxlZnQgKyBkcm9wZG93blJlY3Qud2lkdGggPiB2aWV3cG9ydFJpZ2h0ID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgfVxuICBpZiAodmVydGljYWxQb3NpdGlvbiA9PT0gJ2Fib3ZlJykge1xuICAgIHBvc2l0aW9uRGF0YS52ZXJ0aWNhbFBvc2l0aW9uID0gdmVydGljYWxQb3NpdGlvbjtcbiAgICBkcm9wZG93blJlY3QgPSBkcm9wZG93blJlY3QgfHwgZHJvcGRvd24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcG9zaXRpb25EYXRhLnN0eWxlID0geyB0b3A6IC1kcm9wZG93blJlY3QuaGVpZ2h0IH07XG4gIH1cbiAgcmV0dXJuIHBvc2l0aW9uRGF0YTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUsIEJlaGF2aW9yU3ViamVjdCwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHNraXAsIGZpcnN0LCBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRGlyZWN0aXZlLFxuICBBdHRyaWJ1dGUsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRWxlbWVudFJlZixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgT25DaGFuZ2VzLFxuICBDb250ZW50Q2hpbGQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIEV2ZW50RW1pdHRlcixcbiAgUXVlcnlMaXN0LFxuICBWaWV3Q29udGFpbmVyUmVmLFxuICBmb3J3YXJkUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udHJvbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudCB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi1jb250ZW50LmNvbXBvbmVudCc7XG5cbmltcG9ydCB7IGNhbGN1bGF0ZVBvc2l0aW9uLCBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb24gfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBBbmd1bGFyRHJvcGRvd25Qb3NpdGlvbkNoYW5nZXMge1xuICB2UG9zaXRpb246ICdhYm92ZScgfCAnYmVsb3cnO1xuICBoUG9zaXRpb246ICdyaWdodCcgfCAnY2VudGVyJyB8ICdsZWZ0Jztcbn1cblxubGV0IF9pZCA9IDE7XG5mdW5jdGlvbiBnZW5lcmF0ZURyb3Bkb3duSWQoKSB7XG4gIHJldHVybiBfaWQrKztcbn1cblxuZXhwb3J0IHR5cGUgVmVydGljYWxQb3NpdGlvbiA9ICdhdXRvJyB8ICdhYm92ZScgfCAnYmVsb3cnO1xuZXhwb3J0IHR5cGUgSG9yaXpvbnRhbFBvc2l0aW9uID0gJ2F1dG8nIHwgJ3JpZ2h0JyB8ICdjZW50ZXInIHwgJ2xlZnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duQ29udGVudFBvc2l0aW9uIHtcbiAgcmVhZG9ubHkgaFBvc2l0aW9uOiBIb3Jpem9udGFsUG9zaXRpb24gfCBudWxsO1xuICByZWFkb25seSB2UG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gfCBudWxsO1xuICByZWFkb25seSB0b3A6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IGxlZnQ6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IGJvdHRvbTogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgcmlnaHQ6IHN0cmluZyB8IG51bGw7XG59XG5cbmNvbnN0IEVtcHR5RHJvcGRvd25Db250ZW50UG9zaXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgdlBvc2l0aW9uOiBudWxsLFxuICBoUG9zaXRpb246IG51bGwsXG4gIHRvcDogbnVsbCxcbiAgbGVmdDogbnVsbCxcbiAgYm90dG9tOiBudWxsLFxuICByaWdodDogbnVsbFxufSk7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ25nLWRyb3Bkb3duLFtuZ0Ryb3Bkb3duXSxbbmctZHJvcGRvd25dJyxcbiAgaG9zdDoge1xuICAgICdbY2xhc3MucmVuZGVyLWluLXBsYWNlXSc6ICdyZW5kZXJJblBsYWNlJyxcbiAgICAnW2NsYXNzLm5nLWRyb3Bkb3duXSc6ICd0cnVlJ1xuICB9LFxuICBleHBvcnRBczogJ25nRHJvcGRvd24nXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gIGlkPzogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHJlbmRlckluUGxhY2UgPSBmYWxzZTtcblxuICBAQ29udGVudENoaWxkKEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUpXG4gIGNvbnRyb2w6IEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUgfCBudWxsID0gbnVsbDtcblxuICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IEhvcml6b250YWxQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBtYXRjaFRyaWdnZXJXaWR0aCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2lzT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcbiAgaXNPcGVuJCA9IHRoaXMuX2lzT3BlbiQucGlwZShza2lwKDEpKTtcblxuICBwb3NpdGlvbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlYWRvbmx5PERyb3Bkb3duQ29udGVudFBvc2l0aW9uPj4oXG4gICAgRW1wdHlEcm9wZG93bkNvbnRlbnRQb3NpdGlvblxuICApO1xuXG4gIGdldCBkcm9wZG93bklkKCkge1xuICAgIHJldHVybiBgbmctZHJvcGRvd24tY29udGVudC0ke3RoaXMudW5pcXVlSWR9YDtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGNhbGN1bGF0ZVBvc2l0aW9uOiBGdW5jdGlvbiA9IGNhbGN1bGF0ZVBvc2l0aW9uO1xuICBASW5wdXQoKVxuICBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb246IEZ1bmN0aW9uID0gY2FsY3VsYXRlSW5QbGFjZVBvc2l0aW9uO1xuXG4gIEBJbnB1dCgpXG4gIGRpc2FibGVkID0gZmFsc2U7XG5cbiAgQElucHV0KClcbiAgYmVmb3JlT3BlbjogKCgpID0+IGJvb2xlYW4gfCBPYnNlcnZhYmxlPGJvb2xlYW4+KSB8IG51bGwgPSBudWxsO1xuXG4gIEBJbnB1dCgpXG4gIGJlZm9yZUNsb3NlOiAoKCkgPT4gYm9vbGVhbiB8IE9ic2VydmFibGU8Ym9vbGVhbj4pIHwgbnVsbCA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHZlcnRpY2FsUG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gPSAnYXV0byc7XG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBob3Jpem9udGFsUG9zaXRpb246IEhvcml6b250YWxQb3NpdGlvbiA9ICdhdXRvJztcblxuICBAT3V0cHV0KCdvcGVuJylcbiAgb25PcGVuID0gdGhpcy5pc09wZW4kLnBpcGUoZmlsdGVyKG9wZW4gPT4gb3BlbiA9PT0gdHJ1ZSkpO1xuXG4gIEBPdXRwdXQoJ2Nsb3NlJylcbiAgb25DbG9zZSA9IHRoaXMuaXNPcGVuJC5waXBlKGZpbHRlcihvcGVuID0+IG9wZW4gPT09IGZhbHNlKSk7XG5cbiAgZ2V0IHRyaWdnZXJFbGVtZW50KCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbCAmJiB0aGlzLmNvbnRyb2wuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICB9XG5cbiAgZ2V0IGRyb3Bkb3duRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZHJvcGRvd25JZCk7XG4gIH1cblxuICBAQ29udGVudENoaWxkKGZvcndhcmRSZWYoKCkgPT4gQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudCkpXG4gIHByaXZhdGUgZHJvcGRvd25Db250ZW50PzogQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudDtcblxuICBwcml2YXRlIHVuaXF1ZUlkOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZG9jdW1lbnQ6IERvY3VtZW50O1xuXG4gIGNvbnN0cnVjdG9yKEBJbmplY3QoRE9DVU1FTlQpIGRvY3VtZW50OiBhbnksIEBBdHRyaWJ1dGUoJ2lkJykgaWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgdGhpcy5pbml0aWFsaXplSWQoaWQpO1xuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFdvcm1ob2xlT3V0bGV0KCk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyh7IGRpc2FibGVkIH06IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBkaXNhYmxlZCAmJlxuICAgICAgZGlzYWJsZWQuZmlyc3RDaGFuZ2UgPT09IGZhbHNlICYmXG4gICAgICBkaXNhYmxlZC5jdXJyZW50VmFsdWUgPT09IHRydWUgJiZcbiAgICAgIGRpc2FibGVkLnByZXZpb3VzVmFsdWUgIT09IHRydWVcbiAgICApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG9wZW4kID0gb2YodHJ1ZSk7XG5cbiAgICBpZiAodGhpcy5iZWZvcmVPcGVuKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJlZm9yZU9wZW4oKTtcbiAgICAgIG9wZW4kID0gcmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSA/IHJlc3VsdCA6IG9mKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgb3BlbiRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaXJzdCgpLFxuICAgICAgICBmaWx0ZXIob3BlbiA9PiBvcGVuID09PSB0cnVlKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLl9pc09wZW4kLm5leHQodHJ1ZSkpO1xuICB9XG5cbiAgY2xvc2Uoc2tpcEZvY3VzID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNsb3NlJCA9IG9mKHRydWUpO1xuXG4gICAgaWYgKHRoaXMuYmVmb3JlQ2xvc2UpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYmVmb3JlQ2xvc2UoKTtcbiAgICAgIGNsb3NlJCA9IHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUgPyByZXN1bHQgOiBvZihyZXN1bHQpO1xuICAgIH1cblxuICAgIGNsb3NlJFxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpcnN0KCksXG4gICAgICAgIGZpbHRlcihjbG9zZSA9PiBjbG9zZSA9PT0gdHJ1ZSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgICBoUG9zaXRpb246IG51bGwsXG4gICAgICAgICAgdlBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgICBib3R0b206IG51bGwsXG4gICAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IG51bGwsXG4gICAgICAgICAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2lzT3BlbiQubmV4dChmYWxzZSk7XG5cbiAgICAgICAgaWYgKCFza2lwRm9jdXMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQudGFiSW5kZXggPiAtMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICB0b2dnbGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiQuZ2V0VmFsdWUoKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICByZXBvc2l0aW9uID0gKCk6IEFuZ3VsYXJEcm9wZG93blBvc2l0aW9uQ2hhbmdlcyB8IG51bGwgPT4ge1xuICAgIGlmICghdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBkcm9wZG93bkVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWxlbWVudDtcbiAgICBpZiAoIWRyb3Bkb3duRWxlbWVudCB8fCAhdGhpcy50cmlnZ2VyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgX2NhbGN1bGF0ZVBvc2l0aW9uID0gdGhpcy5yZW5kZXJJblBsYWNlXG4gICAgICA/IHRoaXMuY2FsY3VsYXRlSW5QbGFjZVBvc2l0aW9uXG4gICAgICA6IHRoaXMuY2FsY3VsYXRlUG9zaXRpb247XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uOiB0aGlzLmhvcml6b250YWxQb3NpdGlvbixcbiAgICAgIHZlcnRpY2FsUG9zaXRpb246IHRoaXMudmVydGljYWxQb3NpdGlvbixcbiAgICAgIG1hdGNoVHJpZ2dlcldpZHRoOiB0aGlzLm1hdGNoVHJpZ2dlcldpZHRoLFxuICAgICAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IHRoaXMucHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24sXG4gICAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IHRoaXMucHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uXG4gICAgfTtcblxuICAgIGNvbnN0IHBvc2l0aW9uRGF0YSA9IF9jYWxjdWxhdGVQb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmFwcGx5UmVwb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBwb3NpdGlvbkRhdGFcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgYXBwbHlSZXBvc2l0aW9uKFxuICAgIHRyaWdnZXI6IEVsZW1lbnQsXG4gICAgZHJvcGRvd246IEhUTUxFbGVtZW50LFxuICAgIHBvc2l0aW9uczogYW55XG4gICk6IEFuZ3VsYXJEcm9wZG93blBvc2l0aW9uQ2hhbmdlcyB7XG4gICAgY29uc3QgY2hhbmdlczogYW55ID0ge1xuICAgICAgaFBvc2l0aW9uOiBwb3NpdGlvbnMuaG9yaXpvbnRhbFBvc2l0aW9uLFxuICAgICAgdlBvc2l0aW9uOiBwb3NpdGlvbnMudmVydGljYWxQb3NpdGlvblxuICAgIH07XG4gICAgaWYgKHBvc2l0aW9ucy5zdHlsZSkge1xuICAgICAgY2hhbmdlcy50b3AgPSBgJHtwb3NpdGlvbnMuc3R5bGUudG9wfXB4YDtcbiAgICAgIC8vIFRoZSBjb21wb25lbnQgY2FuIGJlIGFsaWduZWQgZnJvbSB0aGUgcmlnaHQgb3IgZnJvbSB0aGUgbGVmdCwgYnV0IG5vdCBmcm9tIGJvdGguXG4gICAgICBpZiAocG9zaXRpb25zLnN0eWxlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLmxlZnQgPSBgJHtwb3NpdGlvbnMuc3R5bGUubGVmdH1weGA7XG4gICAgICAgIGNoYW5nZXMucmlnaHQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbnMuc3R5bGUucmlnaHQgIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLnJpZ2h0ID0gYCR7cG9zaXRpb25zLnN0eWxlLnJpZ2h0fXB4YDtcbiAgICAgICAgY2hhbmdlcy5sZWZ0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwb3NpdGlvbnMuc3R5bGUud2lkdGggIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLndpZHRoID0gYCR7cG9zaXRpb25zLnN0eWxlLndpZHRofXB4YDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBvc2l0aW9uJC5nZXRWYWx1ZSgpLnRvcCA9PSBudWxsKSB7XG4gICAgICAgIC8vIEJ5cGFzcyBvbiB0aGUgZmlyc3QgcmVwb3NpdGlvbiBvbmx5IHRvIGF2b2lkIGZsaWNrZXJpbmcuXG4gICAgICAgIE9iamVjdC5rZXlzKHBvc2l0aW9ucy5zdHlsZSkuZm9yRWFjaChcbiAgICAgICAgICBrID0+IChkcm9wZG93bi5zdHlsZVtrIGFzIGFueV0gPSBwb3NpdGlvbnMuc3R5bGVba10pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wb3NpdGlvbiQubmV4dChjaGFuZ2VzKTtcblxuICAgIHRoaXMucHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24gPSBwb3NpdGlvbnMuaG9yaXpvbnRhbFBvc2l0aW9uO1xuICAgIHRoaXMucHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uID0gcG9zaXRpb25zLnZlcnRpY2FsUG9zaXRpb247XG5cbiAgICByZXR1cm4gY2hhbmdlcztcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUlkKGlkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGlkKSB7XG4gICAgICB0aGlzLmlkID0gdGhpcy51bmlxdWVJZCA9IGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaXF1ZUlkID0gZ2VuZXJhdGVEcm9wZG93bklkKCk7XG4gICAgICB0aGlzLmlkID0gYG5nLWRyb3Bkb3duLSR7dGhpcy51bmlxdWVJZH1gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFdvcm1ob2xlT3V0bGV0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmctZHJvcGRvd24tb3V0bGV0JykpIHtcbiAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBvdXRsZXQuaWQgPSAnbmctZHJvcGRvd24tb3V0bGV0JztcbiAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUob3V0bGV0LCB0aGlzLmRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgSW5wdXQsXG4gIEhvc3QsXG4gIEluamVjdCxcbiAgZm9yd2FyZFJlZixcbiAgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgT25Jbml0LFxuICBPbkRlc3Ryb3ksXG4gIE5nWm9uZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlJztcbmltcG9ydCB7IGNsb3Nlc3QsIHdhaXRGb3JBbmltYXRpb24gfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgTXV0YXRpb25PYnNlcnZlciA9ICh3aW5kb3cgYXMgYW55KS5NdXRhdGlvbk9ic2VydmVyO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZy1kcm9wZG93bi1jb250ZW50LFtuZy1kcm9wZG93bi1jb250ZW50XSxbbmdEcm9wZG93bkNvbnRlbnRdJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQuY3NzJ10sXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLnJlbmRlci1pbi1wbGFjZV0nOiAnZHJvcGRvd24ucmVuZGVySW5QbGFjZSdcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdDaGVja2VkLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKVxuICBkcm9wZG93bkNsYXNzID0gJyc7XG5cbiAgQElucHV0KClcbiAgb3ZlcmxheSA9IGZhbHNlO1xuXG4gIHByaXZhdGUgaGFzTW92ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfYW5pbWF0aW9uQ2xhc3M6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzVG91Y2hEZXZpY2U6IGJvb2xlYW4gPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG4gIHByaXZhdGUgbXV0YXRpb25PYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBASW5wdXQoKVxuICB0cmFuc2l0aW9uaW5nSW5DbGFzcyA9ICduZy1kcm9wZG93bi1jb250ZW50LS10cmFuc2l0aW9uaW5nLWluJztcbiAgQElucHV0KClcbiAgdHJhbnNpdGlvbmVkSW5DbGFzcyA9ICduZy1kcm9wZG93bi1jb250ZW50LS10cmFuc2l0aW9uZWQtaW4nO1xuICBASW5wdXQoKVxuICB0cmFuc2l0aW9uaW5nT3V0Q2xhc3MgPSAnbmctZHJvcGRvd24tY29udGVudC0tdHJhbnNpdGlvbmluZy1vdXQnO1xuXG4gIHByaXZhdGUgZ2V0IGRyb3Bkb3duRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmRyb3Bkb3duLmRyb3Bkb3duRWxlbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkT3BlbiA9IGZhbHNlO1xuICBwcml2YXRlIGRvY3VtZW50OiBEb2N1bWVudDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBASG9zdCgpXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSkpXG4gICAgcHVibGljIGRyb3Bkb3duOiBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXG4gICAgQEluamVjdChET0NVTUVOVCkgZG9jdW1lbnQ6IGFueVxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmRyb3Bkb3duLm9uT3BlblxuICAgICAgLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiAodGhpcy5zaG91bGRPcGVuID0gdHJ1ZSkpO1xuXG4gICAgdGhpcy5kcm9wZG93bi5vbkNsb3NlXG4gICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cblxuICBzZXQgYW5pbWF0aW9uQ2xhc3MoY2xhc3NOYW1lOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5fYW5pbWF0aW9uQ2xhc3MgJiYgY2xhc3NOYW1lICE9PSB0aGlzLl9hbmltYXRpb25DbGFzcykge1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2FuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fYW5pbWF0aW9uQ2xhc3MgPSBjbGFzc05hbWU7XG4gIH1cblxuICBnZXQgYW5pbWF0aW9uQ2xhc3MoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbkNsYXNzO1xuICB9XG5cbiAgZ2V0IHRyaWdnZXJFbGVtZW50KCk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wZG93bi50cmlnZ2VyRWxlbWVudDtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRPcGVuKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkNsYXNzID0gdGhpcy50cmFuc2l0aW9uaW5nSW5DbGFzcztcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm9wZW4oKSk7XG4gICAgICB0aGlzLnNob3VsZE9wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcbiAgICB0aGlzLnRlYXJkb3duRXZlbnRzKCk7XG4gIH1cblxuICBvcGVuKCk6IHZvaWQge1xuICAgIHRoaXMuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ21vdXNlZG93bicsXG4gICAgICB0aGlzLmhhbmRsZVJvb3RNb3VzZURvd24sXG4gICAgICB0cnVlXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmlzVG91Y2hEZXZpY2UpIHtcbiAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgIHRoaXMudG91Y2hTdGFydEhhbmRsZXIsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLmRyb3Bkb3duLnJlcG9zaXRpb24oKTtcbiAgICBpZiAoIXRoaXMuZHJvcGRvd24ucmVuZGVySW5QbGFjZSkge1xuICAgICAgdGhpcy5hZGRHbG9iYWxFdmVudHMoKTtcbiAgICAgIHRoaXMuc3RhcnRPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZXMgIT09IG51bGwgJiYgY2hhbmdlcy52UG9zaXRpb24gPT09ICdhYm92ZScpIHtcbiAgICAgIHRoaXMuc3RhcnRPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5hbmltYXRlSW4oKSk7XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLnRlYXJkb3duRXZlbnRzKCk7XG4gICAgdGhpcy5hbmltYXRlT3V0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlcG9zaXRpb25JblpvbmUgPSAoKSA9PlxuICAgIHRoaXMuem9uZS5ydW4oKCkgPT4gdGhpcy5kcm9wZG93bi5yZXBvc2l0aW9uKCkpO1xuXG4gIHByaXZhdGUgYW5pbWF0ZUluKCk6IHZvaWQge1xuICAgIHdhaXRGb3JBbmltYXRpb24odGhpcy5kcm9wZG93bkVsZW1lbnQsICgpID0+IHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3MgPSB0aGlzLnRyYW5zaXRpb25lZEluQ2xhc3M7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFuaW1hdGVPdXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50RWxlbWVudCA9IHRoaXMuZHJvcGRvd24ucmVuZGVySW5QbGFjZVxuICAgICAgPyB0aGlzLmRyb3Bkb3duRWxlbWVudC5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IVxuICAgICAgOiB0aGlzLmRyb3Bkb3duRWxlbWVudC5wYXJlbnRFbGVtZW50ITtcbiAgICBjb25zdCBjbG9uZSA9IHRoaXMuZHJvcGRvd25FbGVtZW50LmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9uZS5pZCA9IGAke3RoaXMuZHJvcGRvd25FbGVtZW50LmlkfS0tY2xvbmVgO1xuICAgIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUodGhpcy50cmFuc2l0aW9uZWRJbkNsYXNzKTtcbiAgICBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudHJhbnNpdGlvbmluZ0luQ2xhc3MpO1xuICAgIGNsb25lLmNsYXNzTGlzdC5hZGQodGhpcy50cmFuc2l0aW9uaW5nT3V0Q2xhc3MpO1xuICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3MgPSB0aGlzLnRyYW5zaXRpb25pbmdJbkNsYXNzO1xuICAgIHdhaXRGb3JBbmltYXRpb24oY2xvbmUsICgpID0+IHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2xvbmUpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUm9vdE1vdXNlRG93biA9IChlOiBFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBlIGFzIEV2ZW50ICYgeyB0YXJnZXQ6IEVsZW1lbnQgfTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuaGFzTW92ZWQgfHxcbiAgICAgICh0aGlzLmRyb3Bkb3duRWxlbWVudCAhPT0gbnVsbCAmJlxuICAgICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jb250YWlucyh0YXJnZXQpKSB8fFxuICAgICAgKHRoaXMudHJpZ2dlckVsZW1lbnQgIT09IG51bGwgJiYgdGhpcy50cmlnZ2VyRWxlbWVudC5jb250YWlucyh0YXJnZXQpKVxuICAgICkge1xuICAgICAgdGhpcy5oYXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsb3Nlc3REcm9wZG93biA9IGNsb3Nlc3QodGFyZ2V0LCAnbmctZHJvcGRvd24tY29udGVudCcpO1xuICAgIGlmIChjbG9zZXN0RHJvcGRvd24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBbYXJpYS1jb250cm9scz0ke2Nsb3Nlc3REcm9wZG93bi5nZXRBdHRyaWJ1dGUoJ2lkJyl9XWBcbiAgICAgICk7XG4gICAgICBjb25zdCBwYXJlbnREcm9wZG93biA9IGNsb3Nlc3QodHJpZ2dlciEsICduZy1kcm9wZG93bi1jb250ZW50Jyk7XG4gICAgICBpZiAoXG4gICAgICAgIHBhcmVudERyb3Bkb3duICE9PSBudWxsICYmXG4gICAgICAgIHBhcmVudERyb3Bkb3duLmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gdGhpcy5kcm9wZG93bi5kcm9wZG93bklkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kcm9wZG93bi5jbG9zZSh0cnVlKTtcbiAgfTtcblxuICBwcml2YXRlIHN0YXJ0T2JzZXJ2aW5nRG9tTXV0YXRpb25zKCk6IHZvaWQge1xuICAgIGlmIChNdXRhdGlvbk9ic2VydmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnM6IGFueSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbXV0YXRpb25zWzBdLmFkZGVkTm9kZXMubGVuZ3RoIHx8XG4gICAgICAgICAgbXV0YXRpb25zWzBdLnJlbW92ZWROb2Rlcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyIS5vYnNlcnZlKHRoaXMuZHJvcGRvd25FbGVtZW50ISwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ0RPTU5vZGVJbnNlcnRlZCcsXG4gICAgICAgIHRoaXMucmVwb3NpdGlvbkluWm9uZSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTogdm9pZCB7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGlmICh0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVJbnNlcnRlZCcsXG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgICB0aGlzLnJlcG9zaXRpb25JblpvbmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZEdsb2JhbEV2ZW50cygpOiB2b2lkIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLnJlcG9zaXRpb25JblpvbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVHbG9iYWxFdmVudHMoKTogdm9pZCB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgfVxuXG4gIHByaXZhdGUgdG91Y2hTdGFydEhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgdGhpcy50b3VjaE1vdmVIYW5kbGVyLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b3VjaE1vdmVIYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2htb3ZlJyxcbiAgICAgIHRoaXMudG91Y2hNb3ZlSGFuZGxlcixcbiAgICAgIHRydWVcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdGVhcmRvd25FdmVudHMoKSB7XG4gICAgdGhpcy5yZW1vdmVHbG9iYWxFdmVudHMoKTtcbiAgICB0aGlzLnN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5pc1RvdWNoRGV2aWNlKSB7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRIYW5kbGVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgIHRoaXMuaGFuZGxlUm9vdE1vdXNlRG93bixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBOZ1dvcm1ob2xlTW9kdWxlIH0gZnJvbSAnbmctd29ybWhvbGUnO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlJztcbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE5nV29ybWhvbGVNb2R1bGVdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhckRyb3Bkb3duTW9kdWxlIHt9XG4iXX0=